Redis Sorted Set 자료구조 사용하여 구현

# 랭킹 산정 기준
## 좌석 상태
1. 좌석 상태 예약 이상 - 전체 좌석 상태 'AVAILABLE'이 아닐경우
2. 좌석 상태 결제 이상 - 전체 좌석 상태 'ASSINGED'일 경우

좌석 임시배정 상태(예약)을 매진으로 보는건 애매한듯  
좀 더 정확한 좌석 상태를 기준으로 사용하는것이 나을듯

(티켓팅 오픈 시간 - 마지막 좌석 결제 시간)  
**현재 티켓팅 오픈 시간 정보없음 concert 테이블 필드 추가 및 검증 구현 필요**

결론: **좌석 상태가 배정('ASSIGNED')된 경우를 기준으로 산정**

점수가 동일하면 어떻게 처리할것인가  
콘서트별 전체 좌석수가 많은 콘서트가 우선 순위  
그래도 동일하면?  
콘서트 날짜가 오래된것이 우선순위

언제 Redis에 저장할것인지
1. 좌석 결제시 이벤트 발행 비동기 처리
   - 매 결제 완료 이벤트시 해당 콘서트 전체 좌석 상태 조회 
   - 실시간성 좋음
2. 스케줄러 사용
   - 매일 or 시간별 스케줄러 동작
   - 전체 콘서트 좌석 상태 조회
   - 실시간성 부족함

랭킹 데이터 어떻게 관리할 것인지
1. Redis에서만 관리
   * 영속성 보장은 어떻게 할것인가
   * 랭킹 데이터가 많아질 시 어떻게 관리할것인가
2. DB와 같이 관리
   * Redis와의 데이터 정합성은 어떻게 고려할것인가

DB와 같이 관리하는데 DB는 백업용으로 스케줄러 사용해 백업  
그럼 백업은 어떤방식으로 할지?

랭킹 데이터를 어디까지 집계할지
1. 상위 랭킹만 관리
2. 전체 콘서트

전체 콘서트 랭킹이 필요할지?  
DB에 데이터 백업하는데 굳이 Redis에서 전체 콘서트 랭킹 저장할 필요없을듯
Redis에서 상위 100개정도 관리하는걸로

